<!DOCTYPE html>
<html>
<head>
<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script[] src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
	<script type="text/javascript" src="script.js"></script>
	<script type="text/javascript" src="firebase.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<style>
		.align_right {
			position: relative;
			padding-right: 10%;
		}
		.align_left{
			position: relative;
			padding-left: 10%;
		}
		h2{
		text-align: center;
		font-size: 100px;

		}
	</style>

</head>
<body>
<h1>

<div class="align_right">
		<label for="usr">Speaking Time:</label>
		<input type="text" class="form-control" id="tim" name="time" placeholder = "(In Seconds)">
</div>
<div class="align_right">
		<label for="usr">Number of Speakers:</label>
		<input type="text" class="form-control" id="num" name="numb" placeholder = "(9/45 = 12 speakers)">
</div>

</script>
<div class="align_right">
		<button class="btn btn-primary" id = "button1" onclick="startCountdown('button1');" name="submit">Set Motion</button>

	</div>
<script src = "timer.js"> </script>
<script>
var count = -1;
	function startCountdown(btnId) {
		 if(count== "-1")
		count = document.getElementsByName("numb")[0].value;
		
			countdown("timer1",btnId, 0,document.getElementsByName("time")[0].value );
		
		if(document.getElementsByName("time")[0].value != null)
		{
 		document.getElementById(btnId).disabled  = true;
 		}
 		console.log(document.getElementById(btnId));
	}
	function countdown( elementName, btnId, minutes, seconds )
{
    var element, endTime, hours, mins, msLeft, time;
    console.log("check1");
    console.log("elementName = " + elementName);
    element = document.getElementById( elementName );
    console.log("element = " + element);
    console.log("check2");
    function twoDigits( n )
    {
        return (n <= 9 ? "0" + n : n);
    }

    function updateTimer()
    {
        msLeft = endTime - (+new Date);
        if(count == 0)
        {
        	element.innerHTML = "Done"
        }
        else if ( msLeft < 1000 ) {
        	element.innerHTML = "0:00";
            document.getElementById(btnId).disabled = false;
            count--; 
        } else {
            time = new Date( msLeft );
            hours = time.getUTCHours();
            mins = time.getUTCMinutes();
             element.innerHTML = (hours ? hours + ':' + twoDigits( mins ) : mins) + ':' + twoDigits( time.getUTCSeconds() );
            setTimeout( updateTimer, time.getUTCMilliseconds() + 500 );
        }
    }

    endTime = (+new Date) + 1000 * (60*minutes + seconds) + 500;
    updateTimer();
}


</script>

</h1>

<h2>
<div id = "timer1"> </div>
</h2>
<script>
	function createField() {
		var f = document.createElement("form");
		f.setAttribute('method',"post");
		f.setAttribute('action',"submit.php");
		var create = document.getElementsByName("create")[0];
		create.style.visibility="hidden";
	}
</script>
<div class="align_left" id="motions" float: left;>
	<label for="cmt">Motions:</label>
	<input type="text" class="form-control" id="cmt" name="motion1" placeholder="Poland: 9 min 45 sec, Possible Solutions"><br>
	<input type="text" class="form-control" id="cmt" name="motion2"><br>
	<input type="text" class="form-control" id="cmt" name="motion3"><br>
	<a class="btn btn-primary" onclick="createField();" name="create">Add a Motion</a>
</div>
</body>
</html>